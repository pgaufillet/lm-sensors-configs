# Board:     ASRock J3455-ITX
# Processor: Intel(R) Quad-Core Processor J3455 (up to 2.3 GHz, passive cooled)
# Memory:    2 x DDR3/DDR3L SO-DIMM Slots (max. capacity of system memory: 16GB)
#
# Connectors
#  1 x CPU Fan Connector
#  1 x Chassis Fan Connector
#  1 x Chassis Intrusion and Speaker Header
#
# Voltage monitoring
#  +12V
#  +5V
#  +3.3V
#  CPU Vcore
#
# dmesg - nct6775: Found NCT6793D or compatible chip at 0x2e:0x290

chip "nct6793-*"

# Voltages

# NCT6793D Data Sheet Page 56
# The eight analog inputs of the hardware monitor block connect to an 8-bit
# Analog to Digital Converter (ADC) and consist of 8 general-purpose inputs
# connected to external device pins (VIN0 â€“ VIN7) and Six internal signals
# connected to the power supplies (CPUVCORE, AVSB, VBAT, VTT, 3VSB and 3VCC).
#
# NCT6793D Data Sheet Page 57
# Input voltages greater than 2.048 V should be reduced by an *external*
# resistor divider to keep the input voltages in the proper range.
#
# All the internal inputs of the ADC, AVSB, VBAT, 3VSB and 3VCC utilize an
# integrated voltage divider with both resistors equal to 34K Ohm, yielding
# a voltage one half of the power supply.
#
# The CPUVCORE pin feeds directly into the ADC with no voltage divider since
# the nominal voltage on this pin is only 1.2V.
#
# ID    NCTSpec  NCTDesc   FriendlyName
# in0   index80  CPUVCORE  Vcore
# in1   index81  VIN1      -12V
# in2   index82  AVSB      AVCC
# in3   index83  3VCC      +3.3V
# in4   index84  VIN0      +12V
# in5   n/a      n/a       n/a
# in6   index86  VIN4
# in7   index87  3VSB      3VSB
# in8   index88  VBAT      VBATT
# in9   index89  VTT       VTT
# in10  index8A  VIN5
# in11  index8B  VIN6
# in12  index8C  VIN2
# in13  index8D  VIN3      +5V
# in14  index8E  VIN7

    label   in0        "Vcore"
    compute in0        @*2, @/2
    set     in0_min    0.000
    set     in0_max    1.46
    set     in0_beep   1

    label   in1        "-12V"
    compute in1        -@*66/10,-@*10/66
    set     in1_min    -12 * 0.90
    set     in1_max    -12 * 1.10
    set     in1_beep   1

    label   in2        "AVCC"
    set     in2_min    3.30 * 0.90
    set     in2_max    3.30 * 1.10
    set     in2_beep   1

    label   in3        "+3.3V"
    set     in3_min    3.30 * 0.90
    set     in3_max    3.30 * 1.10
    set     in3_beep   1

    ignore  in4
    ignore  in5
    ignore  in6

    label   in7        "3VSB"
    set     in7_min    3.30 * 0.90
    set     in7_max    3.30 * 1.10
    set     in7_beep   1

    label   in8        "VBATT"
    set     in8_min    3 * 0.90
    set     in8_max    3 * 1.10
    set     in8_beep   1

    ignore  in9
    ignore  in10
    ignore  in11

    label   in12       "+12V"
    compute in12       @*66/10,@*10/66
    set     in12_min   12 * 0.90
    set     in12_max   12 * 1.10
    set     in12_beep  1

    label   in13       "+5V"
    compute in13       @*24/8,@*8/24
    set     in13_min   5 * 0.90
    set     in13_max   5 * 1.10
    set     in13_beep  1

    ignore  in14

# Temperatures

# ID     NCTDesc
# temp1  SYSTIN
# temp2  CPUTIN
# temp3  AUXTIN0
# temp4  AUXTIN1
# temp5  AUXTIN2
# temp6  AUXTIN3
# temp7  PCH_CHIP_CPU_MAX_TEMP
# temp8  PCH_CHIP_TEMP
# temp9  PCH_CPU_TEMP
# temp10 PCH_MCH_TEMP
#
# temp1/SYSTIN seems to be swapped with temp3/AUXTIN0

    ignore  temp1

    label   temp2      "CPU temp"
    set     temp2_beep 1

    label   temp3      "M/B temp"
    set     temp3_max      75
    set     temp3_max_hyst 50
    set     temp3_beep 1

    ignore  temp4
    ignore  temp5
    ignore  temp6
    ignore  temp7
    ignore  temp8
    ignore  temp9
    ignore  temp10
    ignore  temp15
    ignore  temp16
    ignore  temp17
    ignore  temp18
    ignore  temp19
    ignore  temp20

# Fans

# ID    NCTSpec     NCTDesc    FriendlyName
# fan1  indexC0 C1  SYSFANIN   Chassis fan
# fan2  indexC2 C3  CPUFANIN   CPU fan
# fan3  indexC4 C5  AUXFANIN0	
# fan4  indexC6 C7  AUXFANIN1	
# fan5  indexC8 C9  AUXFANIN2	
# fan6  indexCA CB  AUXFANIN3	

    label   fan1       "Chassis fan"
    set     fan1_min   0

    label   fan2       "CPU fan"
    #ignore fan2 - passive cooled CPU

    ignore fan3
    ignore fan4
    ignore fan5
    ignore fan6

# Misc
    label intrusion0   "Case closed"
    ignore intrusion1

    set beep_enable 1

